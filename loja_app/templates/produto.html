from django.shortcuts import render, get_object_or_404
from .models import Produto

{% extends 'base.html' %}
{% load static %}

{% block title %}{{ produto.nome }} â€“ Yamaru Store{% endblock %}

{% block content %}
<div class="container mt-5">

    <div class="row">

        <!-- IMAGEM DO PRODUTO -->
        <div class="col-md-5 text-center">
            {% if produto.imagem %}
                <img src="{{ produto.imagem.url }}" class="img-fluid rounded shadow" style="max-height: 380px;">
            {% else %}
                <img src="{% static 'no-image.png' %}" class="img-fluid rounded shadow" style="max-height: 380px;">
            {% endif %}
        </div>

        <!-- INFO DO PRODUTO -->
        <div class="col-md-7">

            <h2 style="font-family: Constantia; font-weight: bold; color: #3B0A0A;">
                {{ produto.nome }}
            </h2>

            <h4 class="mt-3" style="color: #8C1C13;">
                PreÃ§o: <strong>R$ {{ produto.preco }}</strong>
            </h4>

            {% if produto.categoria %}
                <p class="mt-2" style="font-family: Constantia;">
                    Categoria: <span style="color:#BD6B2E; font-weight: bold;">
                        {{ produto.categoria.nome }}
            {% if produto.tamanho %}
<div class="mb-3">
    <label class="form-label"><strong>Tamanho disponÃ­vel:</strong></label>
    <div class="d-flex gap-2">
        <span class="size-option">{{ produto.tamanho }}</span>
    </div>
</div>
{% endif %}

{% if produto.prazo_entrega %}
<p><strong>Prazo de entrega:</strong> {{ produto.prazo_entrega }} dias</p>
{% endif %}
                    </span>
                </p>
            {% endif %}

            <hr>

            <!-- BOTÃƒO ADICIONAR AO CARRINHO -->
            <a href="{% url 'adicionar_ao_carrinho' produto.id %}"
               class="btn"
               style="
                   background-color: #BD6B2E;
                   color: white;
                   font-family: Constantia;
                   font-size: 18px;
                   border-radius: 8px;
                   width: 100%;
               ">
               ðŸ›’ Adicionar ao Carrinho
            </a>

            <!-- BOTÃƒO VOLTAR -->
            <a href="/" 
               class="btn mt-2"
               style="
                   background-color: #3B0A0A;
                   color: white;
                   font-family: Constantia;
                   border-radius: 8px;
                   width: 100%;
               ">
               â¬… Voltar Ã  Loja
            </a>
        </div>

    </div>

</div>
{% endblock %}
